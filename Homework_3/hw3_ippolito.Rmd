---
title: "HW3"
author: "Michael Ippolito"
date: '2022-10-16'
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}

knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(GGally)
library(psych)
library(car)
library(kableExtra)
library(gridExtra)

```


```{r fig.width=12, fig.height=12}

# Load training data
dftrain <- read.csv('https://raw.githubusercontent.com/letisalba/Data_621/master/Homework_3/csv/crime-training-data_modified.csv')

# Summary
summary(dftrain)
describe(dftrain)

# Factor categorical variables
dftrain$target <- factor(dftrain$target, levels=c(0, 1))
levels(dftrain$target) <- list(below_median=0, above_median=1)
dftrain$chas <- factor(dftrain$chas)
levels(dftrain$chas) <- list(not_on_charles=0, on_charles=1)

# EDA
pairs(dftrain)

# Boxplots
par(mfrow=c(4, 3))
boxplot(zn ~ target, data=dftrain)
boxplot(indus ~ target, data=dftrain)
#boxplot(chas ~ target, data=dftrain)
boxplot(nox ~ target, data=dftrain)
boxplot(rm ~ target, data=dftrain)
boxplot(age ~ target, data=dftrain)
boxplot(dis ~ target, data=dftrain)
boxplot(rad ~ target, data=dftrain)
boxplot(tax ~ target, data=dftrain)
boxplot(ptratio ~ target, data=dftrain)
boxplot(lstat ~ target, data=dftrain)
boxplot(medv ~ target, data=dftrain)

# Contingency table and jittered plot for chas variable
dfconting <- data.frame(target=dftrain$target, chas=dftrain$chas)
table(dfconting)
plot(jitter(as.numeric(dftrain$chas), amount=.15), jitter(as.numeric(dftrain$target), amount=0.03), 
     xlab="Borders Charles River (2=yes)", ylab="Crime Rate > Median (2=yes)", col=dftrain$chas, pch=as.numeric(dftrain$chas))


```

Relationship of median crime rate to the following predictor variables:

| Predictor | Definition | Relationship |
|-----------|------------|--------------|
| zn | Proportion of residential land zoned for large lots (over 25000 square feet) | negative |
| indus | Proportion of non-retail business acres per suburb | positive |
| chas | Dummy var. for whether the suburb borders the Charles River | unclear |
| nox | Nitrogen oxides concentration | positive |
| rm | Average number of rooms per dwelling | unclear |
| age | Proportion of owner-occupied units built prior to 1940 | positive |
| dis | Weighted mean of distances to five Boston employment centers | negative |
| rad | Index of accessibility to radial highways | positive |
| tax | Full-value property-tax rate per $10,000 | positive |
| ptratio | Pupil-teacher ratio by town | positive |
| lstat | Lower status of the population (percent) | positive |
| medv | Median value of owner-occupied homes in $1000s | negative |


```{r}



```
